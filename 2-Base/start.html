<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokemon Basics</title>
    <link rel="stylesheet" href="css/main.css">
    <link href="https://fonts.cdnfonts.com/css/g-guarantee" rel="stylesheet">
    <!-- import jquery Library -->
     <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <img class="logo" src="img/logo.png" alt="PokÃ©mon">
        <h1>2. Ajax static content Exercises</h1>
    </header>
    <nav>
        <ul>
            <li><a href="index.html">Joke</a></li>
            <li><a href="story.html">Story</a></li>
            <li><a href="start.html">Starters</a></li>
            <li><a href="dict.html">Dictionary</a></li>
        </ul>
    </nav>
    <main>
        <h2>Exercise 3: Loading html asyncronously</h2>
        <h1>Starting companions:</h1>
        <div class="slectors">
            <button type="button"  class="startpoke shine"><img  src="img/pokemon/pikachu.png" alt="pikachu" ></button>
            <button type="button" class="startpoke shine"><img  src="img/pokemon/bulbasaur.png" alt="bulbasaur" ></button>
            <button type="button" class="startpoke shine"><img  src="img/pokemon/charmander.png" alt="charmander"></button>
            <button type="button" class="startpoke shine"><img  src="img/pokemon/squirtle.png" alt="squirtle"></button>
        </div>
        <div class="startinfo"></div>
        <script>
            $(document).ready(function () {
                // Exercise 3 Instructions:
                // When the user clicks on a pokemon's button the informations are loaded into div startinfo.
                // Informations are stored in the assets folder. Now in html format.

                var $info = $('.startinfo');

                $('.startpoke').on('click', function () {
                    var alt = $(this).find('img').attr('alt') || '';
                    var name = alt.trim().toLowerCase();
                    if (!name) {
                        // try to infer from filename
                        var src = $(this).find('img').attr('src') || '';
                        name = src.split('/').pop().split('.')[0];
                    }

                    var url = 'assets/starters/' + name + '.html';

                    // load the HTML fragment into the info panel
                    $info.load(url, function (response, status) {
                        if (status === 'error') {
                            $info.html('<p>Information not available for ' + name + '.</p>');
                        }
                    });
                });
            });
        </script>
    </main>
</body>

</html>